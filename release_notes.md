# Snowpark Container Services PuPr Release Notes

This page contains release notes for the Public Preview of Snowpark Container Services (SPCS). The official documentation for Snowpark Container Services may be found [here](https://docs.snowflake.com/en/developer-guide/snowpark-container-services/overview).

To be notified about release notes, follow the instructions in the [README](https://github.com/Snowflake-Labs/spcs-updates/blob/main/README.md) to subscribe to Github releases for this repository. When there is a new release, this page will be updated and a new Github release will be created to notify you.

**Note**: Run `SELECT CURRENT_VERSION()` to see the current version of Snowflake in your account.

_Last updated: Apr 26, 2024_
<br><br>

## Release notes
| Feature | Description | Release date | Release |
|---------|-------------|--------------|---------|
| Compute Pool Instances | SPCS will be deprecating the following instance types. New compute pools utilizing these instance types will fail creation. Existing compute pools with these instance types will continue to work normally. Deprecated instance types, along with alternative <br> STANDARD_1 -> Use CPU_X64_XS <br> STANDARD_2 -> Use CPU_X64_S <br> STANDARD_5 -> Use CPU_X64_L <br> HIGH_MEMORY_5 -> Use HIGHMEM_X64_M <br> GPU_3 -> Use GPU_NV_S<br> GPU_7 -> Use GPU_NV_M<br> GPU_10 -> Use GPU_NV_L <br> See [Create Compute Pool page](https://docs.snowflake.com/en/sql-reference/sql/create-compute-pool) for the table of supported instance types.| April 29, 2024 | 8.17 |
| Web Security Policy | We discovered a condition where SPCS’s default Web Security Policy was not enforced when the service has no external integration. The desired behavior is to block all external access other than the requests to the same origin (‘self’). We will be rolling out the fix on Apr 29, 2024 with Snowflake Release 0.4.10. and here’s the customer behavior that is expected in case customers were using it accidentally. Customer Behavior Change: If there is no EAI enabled, we should expect all external access to be blocked, other than requests to the same origin.If EAI is enabled, then external access is only allowed to the same origin and sites configured as part of the EAI. For questions please visit #feat-snowpark-container services. | April 29, 2024 | 8.17 |
| Compute Node | We will be instituting a behavioral change for node storage capacity on Snowpark Container Services Compute Pool nodes.  We will be reducing the on-node storage capacity from 250GiB to 100GiB. On-node storage is used for 1/caching container images to reduce image download time, 2/on-node storing of container images, and 3/local ephemeral or temporary scratch space. Nodes will be migrated to the new capacity over the following 2 weeks, and no action is required to migrate to the new capacity. It is recommended that customers who require additional storage capacity for their containers should use Block Storage (Public Preview) to attach a volume to store data alongside the container image. In order to see current on-node storage usage, customers can run `df -h` in the container and sum up the two volumes with `spcsvg` in them. | May 7, 2024 | 8.18 |
| Jobs | Today we are announcing a major change in syntax for Jobs (launching as PrPr) based on customer feedback where we are introducing breaking syntax changes as well as major improvements. This new versions of jobs fully support Snowflake Tasks integrations and can run with Tasks. Other improvements include 1. Easier to monitor jobs. Users can describe and show jobs using its own name. 2. Support service to job and job to job communication 3. Easier to manage service and jobs together. Getting an overview of all workloads running in the compute pool/db/schema by one command (show services). Job now is a special kind of service( job service). Previous version of Jobs will continue to work until Jun 2, 2024. However, we will deprecate older version and only support this newer version of Jobs from Jun 2, 2024. Existing PrPr customers of Jobs have already been enabled with the new PrPr version of Jobs. They would be able to use both versions of jobs simultaneously (thru old syntax and new syntax). However, newer customers will only be onboarded to newer versions of Jobs starting today. To get PrPr access please reach out to your Snowflake representative. Docs have been updated. Please check [Conceptual Page](https://docs.snowflake.com/en/developer-guide/snowpark-container-services/working-with-services) and [API references](https://docs.snowflake.com/en/sql-reference/sql/execute-job-service) | Apr 21, 2024 | 8.15 |
| Block Storage | Block storage is available as Public Preview for all Commercial Snowpark Container Services customers. Customers can use Block storage to host high performance storage workloads. Block storage enables customers to easily provision and attach block storage volumes with up to 3000 IOPS, 125MB/s of throughput and 16TB of capacity to their Service.  Customers can backup their volumes by creating instant, point in time copies of their volumes and then later restore their data using the integrated snapshots. | Apr 23, 2024 | 8.16 |
| Compute Pool metrics | Compute Pool metrics are available as Public Preview for all Snowpark Container Services customers. Compute Pool metrics enable customers to observe the performance of nodes, services and jobs in the compute pool. Customers can now see the amount of free memory available for use by containers on a node or the amount of memory used by a specific container.  Customers can now optimize and troubleshoot their SPCS workloads for improved resource utilization and reduced cost. Additionally, SPCS Compute Pool metrics can be easily integrated with existing enterprise metrics collection, visualization and reporting services, such as Datadog and Prometheus. | April 21, 2024| 8.15|
| Compute Pool | Previously, a Snowpark Container Services Compute Pool may be incorrectly identified as `IDLE` and be suspended despite having `ACTIVE` services or jobs. Now, the show compute pools command output is corrected to display the `ACTIVE` state if there are any active services or jobs. Additionally, the Compute Pool’s auto-suspend timer will only start when there are no active services or jobs. | Mar 7, 2024| 8.9.2|
